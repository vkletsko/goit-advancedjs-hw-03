{"version":3,"file":"commonHelpers.js","sources":["../src/js/config.js","../src/js/error-handler.js","../src/js/cats-api.js","../src/js/index.js"],"sourcesContent":["export const BASE_URL = 'https://api.thecatapi.com/v1';\nexport const API_KEY =\n  'live_8XKHlqqv3aE5QA52L0hARQc79GEqRJL64EXVjpAnRYOYqWwCD0L6w3VkXJnzdwWG';\n","export const errorNotificationOptions = {\n  title: '❌ ',\n  message: `Oops! Something went wrong! Try reloading the page!`,\n  backgroundColor: 'tomato',\n  icon: '',\n  messageColor: 'white',\n  position: 'center',\n  timeout: 900,\n  close: false,\n  animateInside: false,\n  progressBar: false,\n  transitionIn: 'bounceInUp',\n};\n","import { BASE_URL, API_KEY } from './config.js';\nimport { errorNotificationOptions } from './error-handler.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst requestOptions = {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    'x-api-key': API_KEY,\n  },\n};\n\nexport const fetchBreeds = async () => {\n  try {\n    const response = await fetch(`${BASE_URL}/breeds`, requestOptions);\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  } catch (error) {\n    iziToast.error(errorNotificationOptions);\n    console.log(error);\n  }\n};\n\nexport const fetchCatByBreed = async breedId => {\n  try {\n    const response = await fetch(\n      `${BASE_URL}/images/search?breed_ids=${breedId}`,\n      requestOptions\n    );\n\n    const result = await response.json();\n\n    if (!response.ok || !result.length) {\n      throw new Error();\n    }\n    return result;\n  } catch (error) {\n    iziToast.error(errorNotificationOptions);\n    console.log(error);\n  }\n};\n","import { fetchBreeds, fetchCatByBreed } from './cats-api.js';\nimport { errorNotificationOptions } from './error-handler.js';\nimport SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'slim-select/styles';\n\nexport const refs = {\n  select: document.querySelector('select.breed-select'),\n  cardWrapper: document.querySelector('.cat-info'),\n  preloader: document.querySelector('.preloader'),\n};\n\nconst createOptionsMarkup = data => {\n  return data.reduce((markup, { name, id }) => {\n    return (markup += `<option value=\"${id}\">${name}</option>`);\n  }, '<option data-placeholder=\"true\"></option>');\n};\nconst createCatMarkup = ({ breeds, url }) => {\n  const [params] = breeds;\n  return `\n    <article class=\"cat-card\">\n      <div class=\"cat-card-content\">\n        <div class=\"cat-card-left\">\n          <div class=\"cat-card-img-container\">\n            <img\n              class=\"cat-card-img\"\n              src=\"${url}\"\n              alt=\"${params.name}\"\n            />\n          </div>\n        </div>\n        <div class=\"cat-card-right\">\n          <h2 class=\"cat-card-title\">${params.name}</h2>\n          <p class=\"cat-card-desc\">${params.description}</p>\n          <p class=\"cat-card-temp\">\n            <strong>Temperament:</strong>\n            ${params.temperament}\n          </p>\n        </div>\n      </div>\n    </article>`;\n};\nconst onSelectChange = async selectData => {\n  try {\n    refs.cardWrapper.innerHTML = '';\n    const { value } = selectData[0];\n    refs.preloader.style.display = 'block'; // Show preloader\n    const response = await fetchCatByBreed(value);\n    refs.preloader.style.display = 'none'; // Hide preloader\n    if (!response) return;\n\n    const catInfo = response[0];\n    refs.cardWrapper.innerHTML = createCatMarkup(catInfo);\n  } catch (error) {\n    iziToast.error(errorNotificationOptions);\n    console.log(error);\n  }\n};\nconst initBreeds = async () => {\n  try {\n    refs.preloader.style.display = 'block'; // Show preloader\n    const breeds = await fetchBreeds();\n    if (!breeds) {\n      return;\n    }\n\n    refs.select.innerHTML = await createOptionsMarkup(breeds);\n    new SlimSelect({\n      select: 'select.breed-select',\n      settings: {\n        placeholderText: 'Select the cat breed',\n        showSearch: false,\n        maxValuesShown: 10, // Default 20\n      },\n      events: {\n        afterChange: info => {\n          onSelectChange(info);\n        },\n      },\n    });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    refs.preloader.style.display = 'none'; // Hide preloader\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initBreeds();\n}, {\"once\":true});\n"],"names":["BASE_URL","API_KEY","errorNotificationOptions","requestOptions","fetchBreeds","response","error","iziToast","fetchCatByBreed","breedId","result","refs","createOptionsMarkup","data","markup","name","id","createCatMarkup","breeds","url","params","onSelectChange","selectData","value","catInfo","initBreeds","SlimSelect","info"],"mappings":"wvBAAO,MAAMA,EAAW,+BACXC,EACX,wECFWC,EAA2B,CACtC,MAAO,KACP,QAAS,sDACT,gBAAiB,SACjB,KAAM,GACN,aAAc,QACd,SAAU,SACV,QAAS,IACT,MAAO,GACP,cAAe,GACf,YAAa,GACb,aAAc,YAChB,ECNMC,EAAiB,CACrB,OAAQ,MACR,QAAS,CACP,eAAgB,mBAChB,YAAaF,CACd,CACH,EAEaG,EAAc,SAAY,CACrC,GAAI,CACF,MAAMC,EAAW,MAAM,MAAM,GAAGL,CAAQ,UAAWG,CAAc,EACjE,GAAI,CAACE,EAAS,GACZ,MAAM,IAAI,MAEZ,OAAOA,EAAS,MACjB,OAAQC,EAAO,CACdC,EAAS,MAAML,CAAwB,EACvC,QAAQ,IAAII,CAAK,CAClB,CACH,EAEaE,EAAkB,MAAMC,GAAW,CAC9C,GAAI,CACF,MAAMJ,EAAW,MAAM,MACrB,GAAGL,CAAQ,4BAA4BS,CAAO,GAC9CN,CACN,EAEUO,EAAS,MAAML,EAAS,OAE9B,GAAI,CAACA,EAAS,IAAM,CAACK,EAAO,OAC1B,MAAM,IAAI,MAEZ,OAAOA,CACR,OAAQJ,EAAO,CACdC,EAAS,MAAML,CAAwB,EACvC,QAAQ,IAAII,CAAK,CAClB,CACH,ECpCaK,EAAO,CAClB,OAAQ,SAAS,cAAc,qBAAqB,EACpD,YAAa,SAAS,cAAc,WAAW,EAC/C,UAAW,SAAS,cAAc,YAAY,CAChD,EAEMC,EAAsBC,GACnBA,EAAK,OAAO,CAACC,EAAQ,CAAE,KAAAC,EAAM,GAAAC,KAC1BF,GAAU,kBAAkBE,CAAE,KAAKD,CAAI,YAC9C,2CAA2C,EAE1CE,EAAkB,CAAC,CAAE,OAAAC,EAAQ,IAAAC,KAAU,CAC3C,KAAM,CAACC,CAAM,EAAIF,EACjB,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAOYC,CAAG;AAAA,qBACHC,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKOA,EAAO,IAAI;AAAA,qCACbA,EAAO,WAAW;AAAA;AAAA;AAAA,cAGzCA,EAAO,WAAW;AAAA;AAAA;AAAA;AAAA,eAKhC,EACMC,EAAiB,MAAMC,GAAc,CACzC,GAAI,CACFX,EAAK,YAAY,UAAY,GAC7B,KAAM,CAAE,MAAAY,CAAK,EAAKD,EAAW,CAAC,EAC9BX,EAAK,UAAU,MAAM,QAAU,QAC/B,MAAMN,EAAW,MAAMG,EAAgBe,CAAK,EAE5C,GADAZ,EAAK,UAAU,MAAM,QAAU,OAC3B,CAACN,EAAU,OAEf,MAAMmB,EAAUnB,EAAS,CAAC,EAC1BM,EAAK,YAAY,UAAYM,EAAgBO,CAAO,CACrD,OAAQlB,EAAO,CACdC,EAAS,MAAML,CAAwB,EACvC,QAAQ,IAAII,CAAK,CAClB,CACH,EACMmB,EAAa,SAAY,CAC7B,GAAI,CACFd,EAAK,UAAU,MAAM,QAAU,QAC/B,MAAMO,EAAS,MAAMd,IACrB,GAAI,CAACc,EACH,OAGFP,EAAK,OAAO,UAAY,MAAMC,EAAoBM,CAAM,EACxD,IAAIQ,EAAW,CACb,OAAQ,sBACR,SAAU,CACR,gBAAiB,uBACjB,WAAY,GACZ,eAAgB,EACjB,EACD,OAAQ,CACN,YAAaC,GAAQ,CACnBN,EAAeM,CAAI,CACpB,CACF,CACP,CAAK,CACF,OAAQrB,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRK,EAAK,UAAU,MAAM,QAAU,MAChC,CACH,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDc,GACF,EAAG,CAAC,KAAO,EAAI,CAAC"}