{"version":3,"file":"commonHelpers.js","sources":["../src/js/config.js","../src/js/error-handler.js","../src/js/cats-api.js","../src/js/index.js"],"sourcesContent":["export const BASE_URL = 'https://api.thecatapi.com/v1';\nexport const API_KEY =\n  'live_8XKHlqqv3aE5QA52L0hARQc79GEqRJL64EXVjpAnRYOYqWwCD0L6w3VkXJnzdwWG';\n","import { refs } from './index.js';\n\nexport const errorNotificationOptions = {\n  title: 'âŒ ',\n  message: `Oops! Something went wrong! Try reloading the page!`,\n  backgroundColor: 'tomato',\n  icon: '',\n  messageColor: 'white',\n  position: 'center',\n  timeout: 900,\n  close: false,\n  animateInside: false,\n  progressBar: false,\n  transitionIn: 'bounceInUp',\n};\n\n\nexport const showErrorMsg = () => {\n  refs.errorMsg.innerHTML = `<div>\n    <div class=\"frame\">\n      <iframe\n        src=\"https://giphy.com/embed/xA88mlhRVZ3lm\"\n        width=\"100%\"\n        height=\"100%\"\n        frameborder=\"0\"\n        allowfullscreen=\"\"\n      ></iframe>\n    </div>\n    <p>Oops...</p>\n  </div>`;\n};\n","import { BASE_URL, API_KEY } from './config.js';\nimport { showErrorMsg, errorNotificationOptions } from './error-handler.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst requestOptions = {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    'x-api-key': API_KEY,\n  },\n};\n\nexport const fetchBreeds = async () => {\n  try {\n    const response = await fetch(`${BASE_URL}/breeds`, requestOptions);\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  } catch (error) {\n    iziToast.error(errorNotificationOptions);\n    setTimeout(showErrorMsg, 1000);\n    console.log(error);\n  }\n};\n\nexport const fetchCatByBreed = async breedId => {\n  try {\n    const response = await fetch(\n      `${BASE_URL}/images/search?breed_ids=${breedId}`,\n      requestOptions\n    );\n\n    const result = await response.json();\n\n    if (!response.ok || !result.length) {\n      throw new Error();\n    }\n    return result;\n  } catch (error) {\n    iziToast.error(errorNotificationOptions);\n    setTimeout(showErrorMsg, 1000);\n    console.log(error);\n  }\n};\n","import { fetchBreeds, fetchCatByBreed } from './cats-api.js';\nimport { showErrorMsg, errorNotificationOptions } from './error-handler.js';\nimport SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'slim-select/styles';\n\nexport const refs = {\n  select: document.querySelector('select.breed-select'),\n  cardWrapper: document.querySelector('.cat-info'),\n  errorMsg: document.querySelector('.error-msg'),\n};\n\nconst createOptionsMarkup = data => {\n  return data.reduce((markup, { name, id }) => {\n    return (markup += `<option value=\"${id}\">${name}</option>`);\n  }, '<option data-placeholder=\"true\"></option>');\n};\nconst createCatMarkup = ({ breeds, url }) => {\n  const [params] = breeds;\n  return `<article class=\"cat-card\">\n    <div class=\"cat-card-left\">\n      <img\n        class=\"cat-card-img\"\n        src=\"${url}\"\n        alt=\"${params.name}\"\n      />\n    </div>\n    <div class=\"cat-card-right\">\n      <h2 class=\"cat-card-title\">${params.name}</h2>\n      <p class=\"cat-card-desc\">${params.description}</p>\n      <p class=\"cat-card-tepm\">\n        <strong>Temperament:</strong>\n        ${params.temperament}\n      </p>\n    </div>\n  </article>`;\n};\nconst onSelectChange = async selectData => {\n  try {\n    refs.cardWrapper.innerHTML = '';\n    refs.errorMsg.innerHTML = '';\n    const { value } = selectData[0];\n    const response = await fetchCatByBreed(value);\n    if (!response) return;\n    const catInfo = response[0];\n    refs.cardWrapper.innerHTML = createCatMarkup(catInfo);\n  } catch (error) {\n    iziToast.error(errorNotificationOptions);\n    setTimeout(showErrorMsg, 1000);\n    console.log(error);\n  }\n};\nconst initBreeds = async () => {\n  const breeds = await fetchBreeds();\n  if (!breeds) {\n    refs.select.style.display = 'none';\n    return;\n  }\n\n  refs.select.innerHTML = await createOptionsMarkup(breeds);\n  new SlimSelect({\n    select: 'select.breed-select',\n    settings: {\n      placeholderText: 'Select the cat breed',\n    },\n    events: {\n      afterChange: info => {\n        onSelectChange(info);\n      },\n    },\n  });\n};\n\ndocument.addEventListener('DOMContentLoaded', initBreeds);"],"names":["BASE_URL","API_KEY","errorNotificationOptions","showErrorMsg","refs","requestOptions","fetchBreeds","response","error","iziToast","fetchCatByBreed","breedId","result","createOptionsMarkup","data","markup","name","id","createCatMarkup","breeds","url","params","onSelectChange","selectData","value","catInfo","initBreeds","SlimSelect","info"],"mappings":"wvBAAO,MAAMA,EAAW,+BACXC,EACX,wECAWC,EAA2B,CACtC,MAAO,KACP,QAAS,sDACT,gBAAiB,SACjB,KAAM,GACN,aAAc,QACd,SAAU,SACV,QAAS,IACT,MAAO,GACP,cAAe,GACf,YAAa,GACb,aAAc,YAChB,EAGaC,EAAe,IAAM,CAChCC,EAAK,SAAS,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAY5B,ECxBMC,EAAiB,CACrB,OAAQ,MACR,QAAS,CACP,eAAgB,mBAChB,YAAaJ,CACd,CACH,EAEaK,EAAc,SAAY,CACrC,GAAI,CACF,MAAMC,EAAW,MAAM,MAAM,GAAGP,CAAQ,UAAWK,CAAc,EACjE,GAAI,CAACE,EAAS,GACZ,MAAM,IAAI,MAEZ,OAAOA,EAAS,MACjB,OAAQC,EAAO,CACdC,EAAS,MAAMP,CAAwB,EACvC,WAAWC,EAAc,GAAI,EAC7B,QAAQ,IAAIK,CAAK,CAClB,CACH,EAEaE,EAAkB,MAAMC,GAAW,CAC9C,GAAI,CACF,MAAMJ,EAAW,MAAM,MACrB,GAAGP,CAAQ,4BAA4BW,CAAO,GAC9CN,CACN,EAEUO,EAAS,MAAML,EAAS,OAE9B,GAAI,CAACA,EAAS,IAAM,CAACK,EAAO,OAC1B,MAAM,IAAI,MAEZ,OAAOA,CACR,OAAQJ,EAAO,CACdC,EAAS,MAAMP,CAAwB,EACvC,WAAWC,EAAc,GAAI,EAC7B,QAAQ,IAAIK,CAAK,CAClB,CACH,ECtCaJ,EAAO,CAClB,OAAQ,SAAS,cAAc,qBAAqB,EACpD,YAAa,SAAS,cAAc,WAAW,EAC/C,SAAU,SAAS,cAAc,YAAY,CAC/C,EAEMS,EAAsBC,GACnBA,EAAK,OAAO,CAACC,EAAQ,CAAE,KAAAC,EAAM,GAAAC,KAC1BF,GAAU,kBAAkBE,CAAE,KAAKD,CAAI,YAC9C,2CAA2C,EAE1CE,EAAkB,CAAC,CAAE,OAAAC,EAAQ,IAAAC,KAAU,CAC3C,KAAM,CAACC,CAAM,EAAIF,EACjB,MAAO;AAAA;AAAA;AAAA;AAAA,eAIMC,CAAG;AAAA,eACHC,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA,mCAISA,EAAO,IAAI;AAAA,iCACbA,EAAO,WAAW;AAAA;AAAA;AAAA,UAGzCA,EAAO,WAAW;AAAA;AAAA;AAAA,aAI5B,EACMC,EAAiB,MAAMC,GAAc,CACzC,GAAI,CACFnB,EAAK,YAAY,UAAY,GAC7BA,EAAK,SAAS,UAAY,GAC1B,KAAM,CAAE,MAAAoB,CAAK,EAAKD,EAAW,CAAC,EACxBhB,EAAW,MAAMG,EAAgBc,CAAK,EAC5C,GAAI,CAACjB,EAAU,OACf,MAAMkB,EAAUlB,EAAS,CAAC,EAC1BH,EAAK,YAAY,UAAYc,EAAgBO,CAAO,CACrD,OAAQjB,EAAO,CACdC,EAAS,MAAMP,CAAwB,EACvC,WAAWC,EAAc,GAAI,EAC7B,QAAQ,IAAIK,CAAK,CAClB,CACH,EACMkB,EAAa,SAAY,CAC7B,MAAMP,EAAS,MAAMb,IACrB,GAAI,CAACa,EAAQ,CACXf,EAAK,OAAO,MAAM,QAAU,OAC5B,MACD,CAEDA,EAAK,OAAO,UAAY,MAAMS,EAAoBM,CAAM,EACxD,IAAIQ,EAAW,CACb,OAAQ,sBACR,SAAU,CACR,gBAAiB,sBAClB,EACD,OAAQ,CACN,YAAaC,GAAQ,CACnBN,EAAeM,CAAI,CACpB,CACF,CACL,CAAG,CACH,EAEA,SAAS,iBAAiB,mBAAoBF,CAAU"}